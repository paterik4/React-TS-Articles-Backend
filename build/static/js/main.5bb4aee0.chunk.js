(this["webpackJsonpopswat-challenge-frontend"]=this["webpackJsonpopswat-challenge-frontend"]||[]).push([[0],{159:function(e,t,r){},160:function(e,t,r){},289:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),s=r(22),n=r.n(s),i=(r(159),r(160),r(315)),l=r(28),o=r.n(l),d="http://localhost:3000/api/",u=["paterik4","admin123","IDDQD","iddqd"];function j(){var e=JSON.parse(localStorage.getItem("user")||"{}");return e&&e.user.token?{Authorization:"Bearer "+e.user.token}:{}}var b={register:function(e,t,r){return o.a.post(d+"users",{username:e,email:t,password:r})},login:function(e,t){return o.a.post(d+"login",{email:e,password:t}).then((function(e){return e.data&&(console.log("ADASDADADADAD"),localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("token",e.data.accessToken)),e.data}))},logout:function(){localStorage.removeItem("user"),localStorage.setItem("tagIndex","0"),localStorage.setItem("tagName","All")},getCurrentUser:function(){return JSON.parse(localStorage.getItem("user"))},deleteUser:function(e){return o.a.delete(d+"users/"+e,{headers:j()})},getUserInfo:function(e){return o.a.post(d+"user",{email:e}).then((function(e){return e.data&&(console.log("Get user info"),localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("token",e.data.accessToken)),e.data}))},createArticle:function(e,t,r,a){return o.a.post(d+"articles",{title:e,description:t,body:r,tagList:a},{headers:j()})},favoriteArticle:function(e){return o.a.post(d+"articles/"+e+"/favorite",{slug:e},{headers:j()})},unFavoriteArticle:function(e){return o.a.delete(d+"articles/"+e+"/favorite",{headers:j()})},createTag:function(e){return o.a.post(d+"tags/addNew",{tag:e})},createComment:function(e,t){return o.a.post(d+"articles/"+e+"/comments",{body:t},{headers:j()})},deleteComment:function(e,t){return o.a.delete(d+"articles/"+e+"/comments/"+t,{headers:j()})},editArticle:function(e,t,r,a,c){return o.a.put(d+"articles/"+e,{title:t,description:r,body:a,tagList:c},{headers:j()})},deleteArticle:function(e){return o.a.delete(d+"articles/"+e,{headers:j()})},getUsers:function(){return o.a.get(d+"users",{headers:j()})},editProfile:function(e,t,r,a){return o.a.put(d+"user",{username:e,email:t,bio:r,image:a},{headers:j()})}},m=r(1),h=Object(i.a)((function(e){return{pageSection:{padding:"4vh 0vw"}}})),x=function(){var e=b.getCurrentUser(),t=h();return Object(m.jsx)("div",{className:t.pageSection,children:e?Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"text-5xl py-10",children:"Welcome To SPA Articles App"}),Object(m.jsxs)("p",{children:["You are logged in as ",e.user.username,"."]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"text-5xl py-10",children:"Welcome To SPA Articles App"}),Object(m.jsxs)("p",{children:["To see the articles please ",Object(m.jsx)("a",{className:"text-red font-bold hover:text-red-light",href:"/register",children:"register"})," or if you already have an account please ",Object(m.jsx)("a",{className:"text-red font-bold hover:text-red-light",href:"/login",children:"login"}),"!"]})]})})},f=r(10),p=r(19),g=Object(i.a)((function(e){return{navbar:{position:"relative",display:"flex",justifyContent:"space-between",verticalAlign:"middle",margin:"4vh 8vw",fontFamily:"Poppins",color:"#363537",lineHeight:"6vh"},BrandText:{margin:"0vh 0vw",fontSize:"2.5em",color:"#b42318",textDecoration:"none",fontWeight:600},links:{display:"inline-block",verticalAlign:"middle",margin:"0 auto",textAlign:"center","& a":{margin:"1vh 0vw",textDecoration:"none",fontWeight:"600",fontSize:"2rem",padding:"0.5vh 0vw",color:"#363537",verticalAlign:"middle","&:hover, &:focus, &:active":{color:"#b42318"}}},Links:{margin:"0vh 0vw 0vh 0vw",width:"20vw","& a":{margin:"1vh 0.5vw",textDecoration:"none",fontWeight:600,fontSize:"1rem",color:"#363537","&:hover, &:focus, &:active":{color:"#b42318"}}},borderUnderline:{width:"100vw",height:"0.1vh",background:"#B42318",margin:"0 auto",borderColor:"#B42318",boxShadow:"0px 6px 10px 0.2px #b42318"}}})),O=function(){var e=g(),t=Object(p.f)(),r=b.getCurrentUser();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("nav",{className:e.navbar,children:[Object(m.jsx)("h1",{className:e.BrandText,children:Object(m.jsx)(f.b,{to:"/",children:"PWD Articles"})}),Object(m.jsx)("div",{className:e.Links,children:r?Object(m.jsxs)("div",{children:[u.includes(r.user.username)&&Object(m.jsx)(f.b,{to:"/admin",children:"Admin Page"}),Object(m.jsx)(f.b,{to:"/articles",children:"Articles"}),Object(m.jsx)(f.b,{to:"/profile/"+r.user.username,children:"Profile"}),Object(m.jsx)(f.b,{to:"/login",onClick:function(){b.logout(),t.push("/login"),window.location.reload()},children:"Log out"})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(f.b,{to:"/login",children:"Login"}),Object(m.jsx)(f.b,{to:"/register",children:"Register"})]})})]}),Object(m.jsx)("div",{className:e.borderUnderline})]})},v=r(18),N=r(36),w=r(92),y=r(8),A=r(9),S=(r(79),r(332)),k=function(e){var t,r,a,c,s,n=y.d().shape({username:y.f().required("Username is required").min(5,"Username must be at least 5 characters").max(20,"Username must not exceed 20 characters"),email:y.f().required("Email is required").email("Email is invalid"),password:y.f().required("Password is required").min(6,"Password must be at least 6 characters").max(20,"Password must not exceed 20 characters"),confirmPassword:y.f().required("Confirm Password is required").oneOf([y.e("password"),null],"Confirm Password does not match"),acceptTerms:y.c().oneOf([!0],"Accept Terms is required")}),i=Object(N.d)({resolver:Object(w.a)(n)}),l=i.register,o=i.handleSubmit,d=i.reset,u=i.formState.errors,j=b.getCurrentUser();return Object(m.jsx)("div",{className:"align-middle sm:mx-auto sm:w-full sm:max-w-md py-16",children:Object(m.jsx)("div",{className:"register-form bg-white-light py-8 px-6 shadow-lg rounded-lg",children:j?Object(m.jsx)("h1",{children:"You already have account!"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-4xl pt-2 pb-10 text-red",children:"Please Register!"}),Object(m.jsxs)("form",{className:"rounded align-middle space-y-4 bg-white-light",onSubmit:o((function(t){b.register(t.username,t.email,t.password).then((function(t){201===t.status&&e.history.push("/")})).then((function(e){A.b.success("Registration successful")})).catch((function(e){A.b.error("Something went wrong")}))})),children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Username"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"text"},l("username")),{},{className:"form-control ".concat(u.username?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(t=u.username)||void 0===t?void 0:t.message})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Email"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"text"},l("email")),{},{className:"form-control ".concat(u.email?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(r=u.email)||void 0===r?void 0:r.message})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Password"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"password"},l("password")),{},{className:"form-control ".concat(u.password?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(a=u.password)||void 0===a?void 0:a.message})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Confirm Password"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"password"},l("confirmPassword")),{},{className:"form-control ".concat(u.confirmPassword?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(c=u.confirmPassword)||void 0===c?void 0:c.message})]}),Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsxs)("div",{className:"checkBoxText",children:[Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"checkbox"},l("acceptTerms")),{},{className:"form-check-input ".concat(u.acceptTerms?"is-invalid":"")})),Object(m.jsx)("label",{htmlFor:"acceptTerms",className:"form-check-label",children:"I have read and agree to the Terms"})]}),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(s=u.acceptTerms)||void 0===s?void 0:s.message})]}),Object(m.jsxs)("div",{className:"form-buttons",children:[Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(m.jsx)(S.a,{title:"Resets the form",children:Object(m.jsx)("button",{type:"button",onClick:function(){return d()},className:"btn btn-warning",children:"Reset"})})]})]})]})})})},C=r(26),T=r(6),F={FetchData:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e.articles),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data:c,isPending:l,error:j}},FetchTagsData:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data2:c,isPending2:l,error2:j}},getSearchedText:function(){return JSON.parse(localStorage.getItem("searchText"))},FetchArticlesBySlugData:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data2:c,isPending2:l,error2:j}},FetchArticleData:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e.article),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data:c,isPending:l,error:j}},GetArticlesCount:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e.articlesCount),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data3:c,isPending3:l,error3:j}},FetchUsers:function(e){var t=Object(a.useState)([]),r=Object(T.a)(t,2),c=r[0],s=r[1],n=Object(a.useState)(!0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(null),u=Object(T.a)(d,2),j=u[0],b=u[1],m=JSON.parse(localStorage.getItem("user")||"{}");return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{method:"GET",signal:t.signal,headers:{Authorization:"Bearer "+m.user.token}}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){return o(!1),s(e),b(null),e})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),b(e.message))})),function(){return t.abort()}}),[e]),{data2:c,isPending2:l,error2:j}}},L=r(317),P=r(318),D=r(319),I=r(320),E=r(42),U=r(321),q=r(322),B=r(323),z=r(324),R=Object(i.a)((function(e){return{}})),W=function(e){var t=e.users,r=(R(),Object(p.h)().username),a=t.find((function(e){return e.username===r}));return Object(m.jsx)("div",{className:"py-10 justify-center align-items-center flex",children:a?Object(m.jsxs)(L.a,{elevation:5,className:"w-1/3 shadow-lg rounded-lg text-decoration:none text-left",children:[Object(m.jsx)(P.a,{title:a.username+"'s profile card"}),Object(m.jsx)("div",{className:"w-full h-px bg-red m-auto border-red border"}),Object(m.jsxs)(D.a,{className:"flex flex-row h-auto pt-2",children:[Object(m.jsx)(I.a,{className:"h-24 w-24 m-2 border border-red rounded-full",title:"avatar",image:"/avatar.svg"}),Object(m.jsx)(E.a,{className:"",children:Object(m.jsxs)(U.a,{dense:!1,children:[Object(m.jsx)(q.a,{children:Object(m.jsx)(B.a,{primary:u.includes(a.username)?Object(m.jsxs)("p",{className:"flex",children:[a.username,Object(m.jsx)("p",{className:"mx-2 p-1 inline-block align-top rounded-full text-red text-xxs border border-red",children:"Admin"})]}):Object(m.jsx)("p",{children:a.username}),secondary:"Username"})}),Object(m.jsx)(q.a,{children:Object(m.jsx)(B.a,{primary:a.email,secondary:"Email"})}),Object(m.jsx)(q.a,{children:Object(m.jsx)(B.a,{primary:a.bio?a.bio:"Bio not given yet.",secondary:"Bio"})})]})})]}),Object(m.jsx)("div",{className:"w-full h-0.25 bg-red m-auto border-gray-100 border"}),Object(m.jsx)(z.a,{className:"flex justify-end mx-2",children:Object(m.jsx)(f.b,{to:"/profile/"+a.username+"/editprofile",children:Object(m.jsx)("button",{className:"rounded-lg py-2 px-4 hover:bg-red-light hover:text-white font-poppins",children:"Edit Profile"})})})]}):Object(m.jsx)("p",{className:"text-2xl",children:"Can't find profile"})})},V=Object(i.a)((function(e){return{profileContainer:{padding:"0vh 8vw",textAlign:"center",justifyContent:"center"}}})),J=function(e){Object(C.a)(e);var t=V(),r=F.FetchUsers(d+"users"),a=r.data2,c=r.isPending2,s=r.error2;return Object(m.jsxs)("div",{className:t.profileContainer,children:[s&&Object(m.jsx)("div",{children:s}),c&&Object(m.jsx)("div",{children:"Loading..."}),a?Object(m.jsx)(W,{users:a}):Object(m.jsx)("p",{className:"text-2xl",children:"This user is not exists or something went wrong."})]})},G=r(325),Y=r(326),H=Object(i.a)((function(e){return{GridItem:{margin:"0vh 0vw 0vh 0vw",padding:"0vh 2vw 4vh 0vw"},Link:{textDecoration:"none",fontFamily:"Poppins"},card:{width:"10vw",maxWidth:"20vw",borderRadius:"10px",textDecoration:"none"},Title:{fontWeight:500},Author:{fontSize:"0.85rem"}}})),M=function(e){var t=e.articles,r=e.selectedTag,a=H();return JSON.parse(localStorage.getItem("user"))?Object(m.jsx)("div",{className:"page-section",children:Object(m.jsx)("div",{children:Object(m.jsx)(G.a,{className:"",container:!0,children:t?t.map((function(e){return e.tagList.includes(r)&&Object(m.jsx)(G.a,{className:a.GridItem,item:!0,children:Object(m.jsx)(f.b,{className:a.Link,to:"/articles/".concat(e.slug),onClick:function(){return localStorage.setItem("articleAuthor",e.author.username)},children:Object(m.jsx)(L.a,{elevation:5,className:a.card,onClick:function(){return console.log(e.slug)},children:Object(m.jsx)(Y.a,{children:Object(m.jsxs)(D.a,{children:[Object(m.jsx)(E.a,{className:a.Title,variant:"h5",component:"h2",children:e.title}),Object(m.jsx)(E.a,{gutterBottom:!0,variant:"h6",color:"textSecondary",component:"p",children:e.description}),Object(m.jsx)(E.a,{className:a.Author,variant:"caption",color:"textSecondary",component:"p",children:e.author?e.author.username:"No author exists"})]})})})})},e.id)})):Object(m.jsx)("div",{className:"page-section",children:Object(m.jsx)("h1",{className:"animation-pulse",children:"Loading..."})})})})}):Object(m.jsx)("div",{className:"page-section",children:Object(m.jsx)("h1",{children:"Only for authorized users"})})},Q=Object(i.a)((function(e){return{articlesContainer:{padding:"0vh 0vw"}}})),K=function(e){var t=Q(),r=F.FetchData(d+"articles"),a=r.data,c=r.error,s=r.isPending,n=F.FetchArticlesBySlugData(d+"articles/"+e),i=(n.data2,n.error2,n.isPending2),l=localStorage.getItem("tagName");return Object(m.jsxs)("div",{className:t.articlesContainer,children:[c&&Object(m.jsx)("div",{children:c}),s&&Object(m.jsx)("div",{children:"Loading..."}),i&&Object(m.jsx)("div",{children:"Loading..."}),a.length>0?Object(m.jsx)(M,{selectedTag:l,articles:a}):Object(m.jsx)("p",{className:"text-xl text-left",children:"There are no articles found. Create one to make it visible here."})]})},X=r(290),Z=r(331),$=r(327),_=r(291),ee=r(148),te=r.n(ee),re=Object(i.a)((function(e){return{root:{padding:"0.5vh 0.25vw",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10,color:"#b42318"},divider:{height:28,margin:4}}})),ae=function(e){var t=e.handleChange,r=re();return Object(m.jsxs)(X.a,{component:"form",className:r.root,children:[(document.getElementById("searchInput"),void F.getSearchedText()),Object(m.jsx)(Z.a,{id:"searchInput",className:r.input,placeholder:"Search for articles",inputProps:{"aria-label":"Search for articles"},onChange:t}),Object(m.jsx)($.a,{className:r.divider,orientation:"vertical"}),Object(m.jsx)(_.a,{className:r.iconButton,"aria-label":"directions",children:Object(m.jsx)(te.a,{})})]})},ce=Object(i.a)((function(e){return{tagsContainer:{padding:"0vh 0vw",margin:"0 auto",display:"flex",flexDirection:"column"},paper:{fontFamily:"Poppins",display:"flex",textDecoration:"none",flexDirection:"column",justifyContent:"center",padding:"2vh 0vw",textAlign:"center",width:"5vw",maxWidth:"10vw",margin:"0 auto",color:e.palette.text.primary,borderRadius:"15px",height:"4vh","&:hover":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"},"&:focus":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"},"&:active":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"}},paperActive:{fontFamily:"Poppins",display:"flex",textDecoration:"none",flexDirection:"column",justifyContent:"center",padding:"2vh 0vw",textAlign:"center",width:"5vw",maxWidth:"10vw",margin:"0 auto",color:"#b42318",borderRadius:"15px",boxShadow:"0px 0px 12px #b42318",height:"4vh","&:hover":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"},"&:focus":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"},"&:active":{color:"#b42318",boxShadow:"0px 0px 12px #b42318"}},container:{maxWidth:"60vw",display:"flex",flexDirection:"row",padding:"0",textAlign:"left"},title:{fontSize:"1.1rem",fontFamily:"Poppins"},tagsA:{textDecoration:"none"}}})),se=function(e){var t=e.tags,r=ce(),c=Object(a.useState)(0),s=Object(T.a)(c,2),n=s[0],i=s[1],l=Object(a.useState)("All"),o=Object(T.a)(l,2),d=(o[0],o[1]);Object(a.useEffect)((function(){try{var e=localStorage.getItem("tagIndex"),t=JSON.parse(e);t&&i(t);var r=localStorage.getItem("tagName");r&&d(r)}catch(a){console.log(a)}}),[]);return Object(m.jsx)("div",{className:r.tagsContainer,children:Object(m.jsx)(G.a,{container:!0,className:r.container,children:t?t.map((function(e,t){return Object(m.jsx)(G.a,{className:"pr-4 pb-4",item:!0,children:Object(m.jsx)("p",{onClick:function(){return r=e.tag,i(a=t),localStorage.setItem("tagIndex",a),localStorage.setItem("tagName",r),void window.location.reload();var r,a},className:"cursor-pointer",children:Object(m.jsx)(X.a,{className:t===n?r.paperActive:r.paper,elevation:10,children:Object(m.jsx)(E.a,{className:r.title,align:"center",variant:"h3",children:e.tag})})})},e.id)})):Object(m.jsx)("div",{children:"Loading..."})})})},ne=Object(i.a)((function(e){return{tagsContainer:{padding:"4vh 0vw"}}})),ie=function(){var e=ne(),t=F.FetchTagsData(d+"tags"),r=t.data2,a=t.error2,c=t.isPending2;return Object(m.jsxs)("div",{className:e.tagsContainer,children:[a&&Object(m.jsx)("div",{children:a}),c&&Object(m.jsx)("div",{children:"Loading..."}),Object(m.jsx)("h1",{className:"text-left py-2",children:"Available tags:"}),r.length>0?Object(m.jsx)(se,{tags:r}):Object(m.jsx)("p",{className:"text-md text-left",children:"There are no tags available currently"})]})},le=Object(i.a)((function(e){return{ArticlesPageContainer:{margin:"4vh 8vw",display:"flex",flexDirection:"column",justifyContent:"left"}}})),oe=function(e){Object(C.a)(e);var t=le(),r=F.FetchData(d+"articles"),c=r.data,s=(r.error,r.isPending,Object(a.useState)("")),n=Object(T.a)(s,2),i=n[0],l=(n[1],Object(a.useState)([])),o=Object(T.a)(l,2),u=(o[0],o[1]),j=Object(a.useState)([]),b=Object(T.a)(j,2),h=(b[0],b[1]);Object(a.useEffect)((function(){u(c),h(c)}));return Object(m.jsxs)("div",{className:t.ArticlesPageContainer,children:[Object(m.jsxs)("div",{className:"flex flex-row justify-between pr-40 items-center",children:[Object(m.jsx)("h1",{className:"text-left font-poppins text-4xl",children:"Articles"}),Object(m.jsx)(f.b,{to:"/createArticle",children:Object(m.jsx)("div",{className:"text-red border border-red rounded-lg p-2 w-auto align-middle hover:bg-red hover:text-white",children:" Add new article"})})]}),Object(m.jsx)("p",{className:"text-left font-poppins text-black-light text-md py-2",children:"You can search articles by title, by slug and with clicking one of the tags cards."}),Object(m.jsx)(ae,{handleChange:function(e){}}),Object(m.jsx)(ie,{}),Object(m.jsx)(K,{searchText:i})]})},de=r(15),ue=r(90),je=r.n(ue),be=r(294),me=function(){var e=Object(p.f)(),t=y.d().shape({title:y.f().required("Title is required").min(10,"Title must be at least 10 characters").max(40,"Description must not exceed 40 characters"),description:y.f().required("Description is required").min(20,"Description must be at least 20 characters").max(60,"Description must not exceed 60 characters"),body:y.f().required("Article body is required").min(40,"Article body must be at least 40 characters").max(250,"Article body must not exceed 250 characters"),tagList:y.b(),newTags:y.f()}),r=F.FetchTagsData(d+"tags"),a=r.data2,s=r.error2,n=r.isPending2,i=function(e){return Object(m.jsx)("textarea",Object(v.a)({className:"resize-y max-h-52 min-h-32 my-custom-input"},e))},l=Object(be.a)((function(e){return{tooltip:{backgroundColor:"#363537",color:"#F7F7F7",maxWidth:350,fontSize:"1rem",border:"1px solid #F7F7F7"}}}))(S.a);return Object(m.jsxs)("div",{className:"pt-20",children:[Object(m.jsx)("h1",{className:"text-2xl text-black",children:"Create new Article"}),Object(m.jsx)("p",{className:"text-black-light",children:"Fill all the required(*) fields!"}),Object(m.jsx)(de.c,{initialValues:{title:"",description:"",body:"",toggle:!1,tagList:[],newTags:""},validationSchema:t,onSubmit:function(t){var r;r=t.newTags,!a.find((function(e){return"All"===e.tag}))&&b.createTag("All"),r.split(",").map((function(e){return b.createTag(e)}));var c=t.tagList;c.push("All"),t.newTags.length>0&&c.push(t.newTags),b.createArticle(t.title,t.description,t.body,c).then((function(t){201===t.status&&e.push("/articles")})).then((function(e){A.b.success("Article created successfully")})).catch((function(e){A.b.error("Something went wrong")}))},children:function(e){var t=e.errors,r=e.touched;return Object(m.jsxs)(de.b,{children:[Object(m.jsxs)("div",{className:"grid grid-rows-5 grid-flow-col gap-4 auto-rows-max pt-10 px-40",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Title*"}),Object(m.jsx)(de.a,{name:"title"}),t.title&&r.title?Object(m.jsx)("div",{className:"invalid-feedback",children:t.title}):null]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Description*"}),Object(m.jsx)(de.a,{name:"description"}),t.description&&r.description?Object(m.jsx)("div",{className:"invalid-feedback",children:t.description}):null]}),Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("p",{className:"text-left pb-2",children:"Tags (Optional)"}),Object(m.jsx)("div",{role:"group","aria-labelledby":"checkbox-group",className:"form-check2",children:a?a.map((function(e,t){return"All"!==e.tag&&Object(m.jsxs)("div",{className:"checkBoxText",children:[Object(m.jsx)(de.a,{type:"checkbox",name:"tagList",value:e.tag}),Object(m.jsx)("label",{htmlFor:"checkbox",children:e.tag})]},t)})):Object(m.jsxs)(c.a.Fragment,{children:[s&&Object(m.jsx)("div",{children:s}),n&&Object(m.jsx)("div",{children:"Loading..."})]})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsxs)("label",{className:"inputLabel",children:["Add new tag (Optional)",Object(m.jsx)(l,{title:Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(E.a,{className:"font-bold",children:"You can add one tag by typing:"}),Object(m.jsx)(E.a,{className:"text=",children:"e.g: TagName"}),Object(m.jsx)(E.a,{className:"font-bold",children:"or you can add 2 or more tags by typing:"}),Object(m.jsx)(E.a,{className:"text=",children:"e.g: TagName,TagName2,TagName3"})]}),children:Object(m.jsx)(je.a,{})})]}),Object(m.jsx)(de.a,{name:"newTags"})]}),Object(m.jsxs)("div",{className:"form-group row-span-3",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Article Body*"}),Object(m.jsx)(de.a,{name:"body",as:i}),t.body&&r.body?Object(m.jsx)("div",{className:"invalid-feedback",children:t.body}):null]})]}),Object(m.jsx)("div",{className:"flex flex-row items-center justify-center",children:Object(m.jsx)("button",{type:"submit",className:"border-2 border-red rounded-md px-6 py-2 w-auto text-red font-bold hover:bg-red hover:text-white",children:"Add Article"})})]})}})]})},he=Object(i.a)((function(e){return{CreateArticleContainer:{padding:"0vh 0vw"}}})),xe=function(e){Object(C.a)(e);var t=he();return Object(m.jsx)("div",{className:t.CreateArticleContainer,children:Object(m.jsx)(me,{})})},fe=r(328),pe=c.a.forwardRef((function(e,t){return Object(m.jsx)(f.b,Object(v.a)(Object(v.a)({},e),{},{innerRef:t}))})),ge=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"85vh",background:"url(/404Page.svg) center center",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},paper:{minWidth:"15vw",maxWidth:"30vw",padding:e.spacing(8),textAlign:"center",margin:"0 auto",color:e.palette.text.primary,boxShadow:"0px 0px 12px #ccc",borderRadius:"15px"},container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",textAlign:"center",alignItems:"center",margin:"0 auto",paddingLeft:"20vw"},title:{marginBottom:e.spacing(2)}}})),Oe=function(){var e=ge(),t=Object(p.g)();return Object(m.jsx)("div",{className:e.root,children:Object(m.jsx)(G.a,{container:!0,className:e.container,children:Object(m.jsx)(G.a,{item:!0,children:Object(m.jsxs)(X.a,{className:e.paper,elevation:10,children:[Object(m.jsx)(E.a,{className:e.title,align:"center",variant:"h2",children:"404"}),Object(m.jsx)(E.a,{paragraph:!0,align:"center",children:"Nothing Found."}),Object(m.jsxs)(E.a,{paragraph:!0,align:"center",children:["No match for ",Object(m.jsx)("code",{children:t.pathname})]}),Object(m.jsx)(E.a,{align:"center",children:Object(m.jsx)(fe.a,{component:pe,to:"/",children:"Go back to the HomePage"})})]})})})})},ve=r(152),Ne=r.n(ve),we=r(151),ye=r.n(we),Ae=function(e){var t=e.article,r=localStorage.getItem("articleAuthor"),a=Object(p.h)().slug,s=t.comments;console.log(s);var n=Object(p.f)(),i=y.d().shape({comment:y.f().required("Comment is required").min(10,"Comment must be at least 10 characters").max(200,"Comment must not exceed 200 characters")}),l=function(e){var t=new Date(e),r=t.toISOString().lastIndexOf(".");return t.toISOString().split("-").join(".").split("T").join("  ").substring(0,r+1)},o=b.getCurrentUser();return Object(m.jsx)("div",{className:"py-10 px-40 max-w-screen-2xl",children:t?Object(m.jsxs)("div",{className:"flex flex-col text-left",children:[Object(m.jsx)("p",{className:"text-4xl pb-10",children:"Article Details"}),Object(m.jsxs)("div",{className:"flex items-center justify-between align-middle",children:[Object(m.jsx)("p",{className:"text-3xl",children:t.title}),Object(m.jsxs)("div",{className:"flex items-center justify-end",children:[o.user.username===r&&Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(f.b,{to:"/articles/"+a+"/editArticle",children:Object(m.jsx)("p",{className:"cursor-pointer px-2 mr-4 rounded-lg border border-red text-red hover:text-white hover:bg-red",children:"Edit article"})}),Object(m.jsx)("p",{className:"cursor-pointer px-2 mr-4 rounded-lg border border-red text-red hover:text-white hover:bg-red",onClick:function(){b.deleteArticle(a).then((function(e){200===e.status&&A.b.success("Article successfully deleted")})).then((function(){n.push("/articles")})).catch((function(e){return A.b.error(e.message)}))},children:"Delete article"})]}),Object(m.jsxs)("p",{className:"text-right",children:[t.favoriteCount," users favorited"]}),Object(m.jsxs)("p",{onClick:function(){b.favoriteArticle(a).then((function(e){201===e.status&&window.location.reload()})).then((function(){return A.b.success("Article successfully favorited")})).catch((function(e){return A.b.error(e.message)}))},className:"rounded-md p-1 pr-2 text-orange text-sm flex items-center align-middle cursor-pointer hover:bg-gray-200",children:[Object(m.jsx)(ye.a,{fontSize:"medium",className:""}),"Favorite"]}),Object(m.jsxs)("p",{onClick:function(){b.unFavoriteArticle(a).then((function(){return window.location.reload()})).then((function(){return A.b.success("Article successfully Unfavorited")})).catch((function(e){return A.b.error(e.message)}))},className:"rounded-md p-1 pr-2 text-black text-sm flex items-center align-middle cursor-pointer hover:bg-gray-200",children:[Object(m.jsx)(Ne.a,{fontSize:"medium",className:""}),"Unfavorite"]})]})]}),Object(m.jsx)("p",{className:"text-2xl pt-10 pb-2",children:t.description}),Object(m.jsx)("div",{className:"h-px border border-red w-full"}),Object(m.jsx)("p",{className:"text-lg py-10",children:t.body}),Object(m.jsxs)("div",{className:"flex pt-10 align-middle",children:[Object(m.jsx)("p",{className:"pr-2 py-1",children:"Tags:"}),t.tagList&&t.tagList.map((function(e){return Object(m.jsx)("p",{className:"mx-2 py-1 px-4 w-auto align-middle text-center text-red border border-red rounded-full",children:e},e)}))]}),Object(m.jsx)("div",{className:"pt-10 pb-2 text-sm text-black-light",children:Object(m.jsxs)("p",{children:["Author: ",r]})}),Object(m.jsx)("div",{className:"h-px border border-black-light w-full"}),Object(m.jsxs)("div",{className:"pt-5 space-y-4 w-full",children:[Object(m.jsx)(de.c,{onSubmit:function(e){b.createComment(a,e.comment).then((function(e){201===e.status&&n.push("/articles/"+a)})).then((function(e){A.b.success("Article created successfully")})).catch((function(e){A.b.error("Something went wrong")})).then((function(){return window.location.reload()})),console.log(a+"  ----------  "+e.comment)},initialValues:{comment:""},validationSchema:i,className:"flex",children:function(e){var t=e.errors;return Object(m.jsxs)(de.b,{className:"w-full",children:[Object(m.jsx)(de.a,{className:"mr-4",name:"comment",placeholder:"Write comment"}),Object(m.jsx)("button",{className:"border border-red text-red py-1 px-2 rounded-lg hover:text-white hover:bg-red",type:"submit",children:"Comment"}),t.comment?Object(m.jsx)("div",{className:"invalid-feedback",children:t.comment}):null]})}}),Object(m.jsxs)("p",{children:["Comments (",s?s.length:0,")"]}),Object(m.jsx)("div",{children:s?s.map((function(e){return Object(m.jsxs)("div",{className:"flex flex-col gap-2 pb-8",children:[Object(m.jsx)("p",{children:e.body}),Object(m.jsxs)("div",{className:"flex gap-4",children:[Object(m.jsx)("p",{children:l(e.created)}),Object(m.jsxs)("p",{children:["Written by: ",e.author.username]}),(o.user.username===e.author.username||u.includes(o.user.username))&&Object(m.jsx)(c.a.Fragment,{children:Object(m.jsx)("p",{className:"cursor-pointer px-2 mr-4 rounded-lg border border-red text-red hover:text-white hover:bg-red",onClick:function(){var t;t=e.id,b.deleteComment(a,t).then((function(e){200===e.status&&A.b.success("Comment successfully deleted")})).then((function(){n.push("/articles/"+a),window.location.reload()})).catch((function(e){return A.b.error(e.message)}))},children:"Delete comment"})})]}),Object(m.jsx)("p",{className:"h-px border border-red"})]})})):Object(m.jsx)("p",{children:"There are no comments for this article"})})]})]}):Object(m.jsx)("div",{children:"Loading..."})})},Se=function(e){Object(C.a)(e);var t=Object(p.h)().slug,r=F.FetchArticleData(d+"articles/"+t),a=r.data,c=r.error,s=r.isPending,n=b.getCurrentUser();return Object(m.jsxs)("div",{children:[c&&Object(m.jsx)("div",{children:c}),s&&Object(m.jsx)("div",{children:"Loading..."}),n?Object(m.jsx)(Ae,{article:a}):Object(m.jsx)("p",{className:"text-3xl py-10",children:"Authorized access only!"})]})},ke=r(333),Ce=r(329),Te=r(330),Fe=r(109),Le=r.n(Fe),Pe=Object(i.a)((function(e){return{accordion:{},accordionSummary:{}}})),De=function(e){var t=e.users,r=e.articles,a=Pe(),s=c.a.useState(""),n=Object(T.a)(s,2),i=n[0],l=n[1],o=Object(p.f)(),d=b.getCurrentUser(),u=function(e){return function(t,r){l(!!r&&e)}};return Object(m.jsx)("div",{className:"w-full",children:Object(m.jsxs)(G.a,{spacing:4,container:!0,children:[Object(m.jsx)(G.a,{item:!0,sm:6,children:t?t.map((function(e){return Object(m.jsxs)(ke.a,{expanded:i===e.id,onChange:u(e.id),className:a.accordion,children:[Object(m.jsx)(Ce.a,{expandIcon:Object(m.jsx)(Le.a,{}),className:a.accordionSummary,"aria-controls":"panel1bh-content",id:e.id,children:Object(m.jsx)("p",{className:"",children:e.username})}),Object(m.jsx)(Te.a,{children:Object(m.jsxs)("div",{className:"flex flex-col justify-start text-left space-y-2",children:[Object(m.jsx)("p",{className:"pb-1",children:e.email}),Object(m.jsx)("p",{className:"pb-1",children:e.bio?e.bio:"No bio given yet."}),e.username!==d.user.username?Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("p",{className:"h-px border border-gray-200 w-full"}),Object(m.jsx)("div",{className:"flex space-x-8 pt-1",children:Object(m.jsx)("button",{className:"text-red transform hover:scale-125",onClick:function(){var t,r;t=e.email,r=e.username,b.deleteUser(t).then((function(e){200===e.status&&(A.b.success(r+"'s profile has been deleted"),setTimeout((function(){return window.location.reload()}),1e3))})).catch((function(e){A.b.success(e.message)}))},children:"Delete"})})]}):null]})})]},e.id)})):Object(m.jsx)("p",{children:"Loading... "})}),Object(m.jsx)(G.a,{item:!0,sm:6,children:r.length>0&&r?r.map((function(e){return Object(m.jsxs)(ke.a,{expanded:i===e.slug,onChange:u(e.slug),children:[Object(m.jsx)(Ce.a,{expandIcon:Object(m.jsx)(Le.a,{}),"aria-controls":"panel1bh-content",id:e.id,children:Object(m.jsx)("p",{className:"",children:e.title})}),Object(m.jsx)(Te.a,{children:Object(m.jsxs)("div",{className:"flex flex-col justify-start text-left",children:[Object(m.jsx)("p",{className:"pb-1",children:e.description}),Object(m.jsx)("p",{className:"h-px border border-red w-full"}),Object(m.jsx)("p",{className:"py-5",children:e.body}),Object(m.jsx)("p",{className:"pb-5",children:e.author.username}),Object(m.jsx)("p",{className:"h-px border border-gray-200 w-full"}),Object(m.jsxs)("div",{className:"flex space-x-8 pt-1",children:[Object(m.jsx)("button",{className:"text-blue-600 transform hover:scale-125",onClick:function(){return o.push("/articles/"+e.slug+"/editArticle")},children:"Edit"}),Object(m.jsx)("button",{className:"text-red transform hover:scale-125",onClick:function(){var t;t=e.slug,b.deleteArticle(t).then((function(e){200===e.status&&A.b.success("Article successfully deleted")})).then((function(){setTimeout((function(){return window.location.reload()}),1e3)})).catch((function(e){return A.b.error(e.message)}))},children:"Delete"})]})]})})]},e.id)})):Object(m.jsx)("p",{className:"text-xl",children:"There are no articles available."})})]})})},Ie=function(e){Object(C.a)(e);var t=F.FetchData(d+"articles"),r=t.data,a=t.isPending,c=t.error,s=F.FetchUsers(d+"users"),n=s.data2,i=s.isPending2,l=s.error2,o=b.getCurrentUser();return Object(m.jsxs)("div",{className:"flex align-middle px-40",children:[c&&Object(m.jsx)("div",{children:c}),a&&Object(m.jsx)("div",{children:"Loading..."}),l&&Object(m.jsx)("div",{children:l}),i&&Object(m.jsx)("div",{children:"Loading..."}),r?o&&u.includes(o.user.username)?Object(m.jsxs)("div",{className:"flex flex-col w-full align-middle",children:[Object(m.jsx)("p",{className:"text-3xl pt-10 text-center",children:"AdminPage"}),Object(m.jsx)("p",{className:"text-md pt-1 pb-10",children:"You can edit or delete profiles and articles since you are an admin user"}),Object(m.jsx)(De,{users:n,articles:r})]}):Object(m.jsx)("p",{className:"text-3xl",children:"Authorized access only"}):Object(m.jsx)("p",{className:"text-3xl",children:"There are no articles found or something went wrong."})]})},Ee=function(e){var t=e.article,r=Object(p.f)(),s=Object(a.useRef)(t),n=Object(p.h)().slug,i=y.d().shape({title:y.f().required("Title is required").min(10,"Title must be at least 10 characters").max(40,"Description must not exceed 40 characters"),description:y.f().required("Description is required").min(20,"Description must be at least 20 characters").max(60,"Description must not exceed 60 characters"),body:y.f().required("Article body is required").min(40,"Article body must be at least 40 characters").max(250,"Article body must not exceed 250 characters"),tagList:y.b(),newTags:y.f()}),l=F.FetchTagsData(d+"tags"),o=l.data2,u=l.error2,j=l.isPending2,h=function(e){return Object(m.jsx)("textarea",Object(v.a)({className:"resize-y max-h-52 min-h-32 my-custom-input"},e))},x=Object(be.a)((function(e){return{tooltip:{backgroundColor:"#363537",color:"#F7F7F7",maxWidth:350,fontSize:"1rem",border:"1px solid #F7F7F7"}}}))(S.a);return Object(a.useEffect)((function(){s.current&&(s.current.setFieldValue("title",t.title),s.current.setFieldValue("description",t.description),s.current.setFieldValue("body",t.body),s.current.setFieldValue("tagList",t.tagList))})),Object(m.jsxs)("div",{className:"pt-20",children:[Object(m.jsx)("h1",{className:"text-2xl text-black",children:"Update Article"}),Object(m.jsx)("p",{className:"text-black-light",children:"Fill all the required(*) fields!"}),t?Object(m.jsx)(de.c,{initialValues:{title:t.title,description:t.description,body:t.body,toggle:!1,tagList:t.tagList,newTags:""},validationSchema:i,onSubmit:function(e){e.newTags.split(",").map((function(e){return b.createTag(e)}));var t=e.tagList;e.newTags.length>0&&t.push(e.newTags),b.editArticle(n,e.title,e.description,e.body,t).then((function(e){A.b.success("Article updated successfully"),setTimeout((function(){return r.goBack()}),1e3)})).catch((function(e){A.b.error("Something went wrong")}))},innerRef:s,children:function(e){return Object(m.jsxs)(de.b,{children:[function(){e.setFieldValue("title",t.title),e.setFieldValue("description",t.description),e.setFieldValue("body",t.body),e.setFieldValue("tagList",t.tagList)},Object(m.jsxs)("div",{className:"grid grid-rows-5 grid-flow-col gap-4 auto-rows-max pt-10 px-40",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Title*"}),Object(m.jsx)(de.a,{name:"title"}),e.errors.title&&e.touched.title?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.title}):null]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Description*"}),Object(m.jsx)(de.a,{name:"description"}),e.errors.description&&e.touched.description?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.description}):null]}),Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("p",{className:"text-left pb-2",children:"Tags (Optional)"}),Object(m.jsx)("div",{role:"group","aria-labelledby":"checkbox-group",className:"form-check2",children:o?o.map((function(e,t){return"All"!==e.tag&&Object(m.jsxs)("div",{className:"checkBoxText",children:[Object(m.jsx)(de.a,{type:"checkbox",name:"tagList",value:e.tag}),Object(m.jsx)("label",{htmlFor:"checkbox",children:e.tag})]},t)})):Object(m.jsxs)(c.a.Fragment,{children:[u&&Object(m.jsx)("div",{children:u}),j&&Object(m.jsx)("div",{children:"Loading..."})]})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsxs)("label",{className:"inputLabel",children:["Add new tag (Optional)",Object(m.jsx)(x,{title:Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(E.a,{className:"font-bold",children:"You can add one tag by typing:"}),Object(m.jsx)(E.a,{className:"text=",children:"e.g: TagName"}),Object(m.jsx)(E.a,{className:"font-bold",children:"or you can add 2 or more tags by typing:"}),Object(m.jsx)(E.a,{className:"text=",children:"e.g: TagName,TagName2,TagName3"})]}),children:Object(m.jsx)(je.a,{})})]}),Object(m.jsx)(de.a,{name:"newTags"})]}),Object(m.jsxs)("div",{className:"form-group row-span-3",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Article Body*"}),Object(m.jsx)(de.a,{name:"body",as:h}),e.errors.body&&e.touched.body?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.body}):null]})]}),Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-10",children:[Object(m.jsx)("button",{type:"submit",className:"border-2 border-red rounded-md px-6 py-2 w-auto text-red font-bold hover:bg-red hover:text-white",children:"Update Article"}),Object(m.jsx)(f.b,{to:"/articles/"+n,children:Object(m.jsx)("button",{className:"border-2 border-red rounded-md px-6 py-2 w-auto text-red font-bold hover:bg-red hover:text-white",children:"Cancel"})})]})]})}}):Object(m.jsx)("p",{children:"Loading..."})]})},Ue=function(e){Object(C.a)(e);var t=Object(p.h)().slug,r=F.FetchArticleData(d+"articles/"+t),a=r.data,c=r.error,s=r.isPending,n=b.getCurrentUser();return Object(m.jsxs)("div",{children:[c&&Object(m.jsx)("div",{children:c}),s&&Object(m.jsx)("div",{children:"Loading..."}),n?Object(m.jsx)(Ee,{article:a}):Object(m.jsx)("p",{className:"text-3xl py-10",children:"Authorized access only!"})]})},qe=function(e){var t=e.users,r=Object(p.f)(),c=Object(p.h)().username,s=t.find((function(e){return e.username===c})),n=Object(a.useRef)(s),i=y.d().shape({username:y.f().required("Username is required").min(5,"Username must be at least 5 characters").max(20,"Username must not exceed 20 characters").test((function(e){var r=t.find((function(t){return t.username===e}));return!r||!s||null===r.username||r.username===s.username||new y.a("Username already exists",void 0,"username")})),email:y.f().required("Email is required").email("Email is invalid"),bio:y.f().min(40,"Bio must be at least 40 characters").max(150,"Bio must not exceed 150 characters"),image:y.f()}),l=function(e){return Object(m.jsx)("textarea",Object(v.a)({className:"resize-y max-h-52 min-h-32 my-custom-input"},e))};return Object(a.useEffect)((function(){n.current&&(n.current.setFieldValue("username",s.username),n.current.setFieldValue("email",s.email),n.current.setFieldValue("bio",s.bio),n.current.setFieldValue("image",s.image))})),Object(m.jsxs)("div",{className:"pt-20",children:[Object(m.jsx)("h1",{className:"text-2xl text-black",children:"Update Profile"}),Object(m.jsx)("p",{className:"text-black-light",children:"Fill all the required(*) fields!"}),s?Object(m.jsx)(de.c,{initialValues:{username:s.username,email:s.email,bio:s.bio,image:s.image},validationSchema:i,onSubmit:function(e){b.editProfile(e.username,e.email,e.bio,e.image).then((function(t){A.b.success(c+"'s profile updated successfully"),setTimeout((function(){return r.push("/profile/"+e.username)}),1e3)})).catch((function(e){A.b.error("Something went wrong")}))},innerRef:n,children:function(e){return Object(m.jsxs)(de.b,{children:[Object(m.jsxs)("div",{className:"grid grid-rows-5 grid-flow-col gap-4 auto-rows-max pt-10 px-40",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Username"}),Object(m.jsx)(de.a,{disabled:!0,name:"username"}),e.errors.username&&e.touched.username?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.username}):null]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Email*"}),Object(m.jsx)(de.a,{name:"email"}),e.errors.email&&e.touched.email?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.email}):null]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Image"}),Object(m.jsx)(de.a,{name:"image"}),e.errors.image&&e.touched.image?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.image}):null]}),Object(m.jsxs)("div",{className:"form-group row-span-3",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Bio"}),Object(m.jsx)(de.a,{name:"bio",as:l}),e.errors.bio&&e.touched.bio?Object(m.jsx)("div",{className:"invalid-feedback",children:e.errors.bio}):null]})]}),Object(m.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-10",children:[Object(m.jsx)("button",{type:"submit",className:"border-2 border-red rounded-md px-6 py-2 w-auto text-red font-bold hover:bg-red hover:text-white",children:"Update Profile"}),Object(m.jsx)(f.b,{to:"/profile/"+c,children:Object(m.jsx)("button",{className:"border-2 border-red rounded-md px-6 py-2 w-auto text-red font-bold hover:bg-red hover:text-white",children:"Cancel"})})]})]})}}):Object(m.jsx)("p",{children:"Loading..."})]})},Be=function(e){Object(C.a)(e);var t=F.FetchUsers(d+"users"),r=t.data2,a=t.isPending2,c=t.error2;return Object(m.jsxs)("div",{children:[c&&Object(m.jsx)("div",{children:c}),a&&Object(m.jsx)("div",{children:"Loading..."}),r?Object(m.jsx)(qe,{users:r}):Object(m.jsx)("p",{className:"text-2xl",children:"User not found or something went wrong."})]})},ze=function(e){var t,r,a=e.submitFN,c=(Object(p.f)(),y.d().shape({email:y.f().required("Email is required").email("Email is invalid"),password:y.f().required("Password is required").min(6,"Password must be at least 6 characters").max(20,"Password must not exceed 20 characters")})),s=Object(N.d)({resolver:Object(w.a)(c)}),n=s.register,i=s.handleSubmit,l=s.formState.errors,o=b.getCurrentUser();return Object(m.jsx)("div",{className:"align-middle sm:mx-auto sm:w-full sm:max-w-md py-16",children:Object(m.jsx)("div",{className:"register-form bg-white-light py-8 px-6 shadow-lg rounded-lg",children:o?Object(m.jsx)("h1",{children:"You already logged in!"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-4xl pt-2 pb-10 text-red",children:"Please Login!"}),Object(m.jsxs)("form",{className:"rounded align-middle space-y-4 bg-white-light",onSubmit:i((function(e){a(e)})),children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Email"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"text"},n("email")),{},{className:"form-control ".concat(l.email?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(t=l.email)||void 0===t?void 0:t.message})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"inputLabel",children:"Password"}),Object(m.jsx)("input",Object(v.a)(Object(v.a)({type:"password"},n("password")),{},{className:"form-control ".concat(l.password?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:null===(r=l.password)||void 0===r?void 0:r.message})]}),Object(m.jsx)("div",{className:"form-buttons",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]})]})})})},Re=function(e){Object(C.a)(e);var t=Object(p.f)();return Object(m.jsx)("div",{children:Object(m.jsx)(ze,{submitFN:function(e){b.login(e.email,e.password).then((function(e){t.push("/articles"),A.b.success("Login successful"),setTimeout((function(){return window.location.reload()}),1500)})).catch((function(e){A.b.error("Something went wrong")}))}})})},We=function(){return Object(m.jsx)(f.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(O,{}),Object(m.jsx)("div",{className:"content",children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{exact:!0,path:"/",component:x}),Object(m.jsx)(p.a,{exact:!0,path:"/register",component:k}),Object(m.jsx)(p.a,{exact:!0,path:"/login",component:Re}),Object(m.jsx)(p.a,{exact:!0,path:"/articles",component:oe}),Object(m.jsx)(p.a,{exact:!0,path:"/articles/:slug",component:Se}),Object(m.jsx)(p.a,{exact:!0,path:"/articles/:slug/editArticle",component:Ue}),Object(m.jsx)(p.a,{exact:!0,path:"/profile/:username",component:J}),Object(m.jsx)(p.a,{exact:!0,path:"/profile/:username/editprofile",component:Be}),Object(m.jsx)(p.a,{exact:!0,path:"/createArticle",component:xe}),Object(m.jsx)(p.a,{exact:!0,path:"/admin",component:Ie}),Object(m.jsx)(p.a,{path:"*",component:Oe})]})}),Object(m.jsx)(A.a,{})]})})};n.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(We,{})}),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.5bb4aee0.chunk.js.map